{% extends 'base.html.twig' %}

{% block title %}Commentaire -
	{{ parent() }}
{% endblock %}
{% block body %}
	<main>
		<div style="margin:2rem" class="analyse_container">
			<div class="communaute_container">
				<div class="persona">
					<div class="avatar"></div>
					<div class="identite">
						<p class="pseudo">{{app.user.pseudo}}</p>
						<p id="date">Publié le
							{{analyse.date |date("d/m/Y à H:i")}}</p>
					</div>
				</div>
				<div class="analyse">
					<p class="texte_analyse">
						Nom de l'actif :
						{{analyse.actif}}
					</p>
					<p class="texte_analyse">
						Analyse technique :
						<a style="color:beige" href="{{analyse.analyse}}">Voir l'analyse technique
						</a>
					</p>
					<p class="texte_analyse formfield">
						<label>Plan de l'analyse :</label>
						<textarea rows="6" cols="50">
							{{analyse.explication}}
						</textarea>
						</p>
				</div>
			</div>
			<div style="border:2px solid black;border-radius: 17px;padding: 16px;background-color: #110D26;margin-top: 1rem;">
				<h2>Liste des commentaire</h2>
				{% for commentaires in analyse.commentaires %}
					<p style="font-size:large;padding:8px 0 3px 0;">Publié par
						{{app.user.pseudo}}
						le
						{{commentaires.date|date("d/m/Y à H:i")}}
					</p>
					<div style="font-size:large; border-radius:12px; padding:16px; background-color:#0C091C; margin: 0.5rem 0; width:fit-content">{{commentaires.contenu}}</div>
				{% endfor %}
			</div>
		</div>
	</main>
	<div style="color:white;font-size:large;display:flex">
		{% if app.user and app.user.estactif == true %}
			<h2>Ajouter des commentaire</h2>
			{{form(dataForm)}}
				{% else %}
					<p>Veuillez vous connecter pour effectuer un commentaire:</p>
			{% endif %}
		</div>
	{% endblock %}
